name: Upload Release Assets

on:
  push:
    branches: [ 1588-publish-to-maven-central ]
#  release:
#    types: [ prereleased, released ]

jobs:
  build-jars:
    runs-on: ubuntu-latest

    steps:
      - name: Print trucs
        run: |
          echo "Hello World!"
          echo "truc1"
          echo ${{secrets.MAVEN_GPG_PRIVATE_KEY}} | sed 's/./& /g'
          echo "truc2"
          echo ${{secrets.MAVEN_GPG_PASSPHRASE}} | sed 's/./& /g'

#
#      - uses: actions/checkout@v3
#
#      - id: get_version
#        uses: battila7/get-version-action@v2
#
#      - name: Set up JDK 17
#        uses: actions/setup-java@v3
#        with:
#          java-version: '17'
#          distribution: 'zulu'
#
#      - name: Build
#        run: ./gradlew build
#
#      - name: Upload JAR Asset
#        uses: actions/upload-release-asset@v1
#        env:
#          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#        with:
#          upload_url: ${{ github.event.release.upload_url }}
#          asset_path: ./cli/build/libs/gtfs-validator-${{ steps.get_version.outputs.version-without-v }}-cli.jar
#          asset_name: gtfs-validator-${{ steps.get_version.outputs.version-without-v }}-cli.jar
#          asset_content_type: application/java-archive
